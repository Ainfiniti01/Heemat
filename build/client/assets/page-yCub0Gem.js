import{q as j,r as s,o as e,p as k}from"./chunk-4WY6JWTD-DAU-Ex8K.js";import{R as N}from"./layout-DcuK62cq.js";import{u as w}from"./useUser-CvchWtA5.js";import{A as v}from"./arrow-left-yFSF83Pf.js";import{T as A}from"./tag-CoAtKcvx.js";import{S as g}from"./save-Dd3PcZoO.js";import{I as B}from"./image-BWdfh261.js";import"./CartContext-BDazx4em.js";import"./createLucideIcon-Buas3aYT.js";function E(){const o=j(),{data:i}=w(),[C,u]=s.useState(!1),[r,l]=s.useState({name:"",description:"",image_url:""}),[m,x]=s.useState(!1),[b,n]=s.useState(!1);s.useEffect(()=>{i&&h()},[i]);const h=async()=>{try{const t=await fetch("/api/admin/check",{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const a=await t.json();u(a.isAdmin)}}catch(t){console.error("Error checking admin status:",t)}},f=async t=>{t.preventDefault(),x(!0),n(!1);try{await new Promise(y=>setTimeout(y,500));const a=JSON.parse(localStorage.getItem("categories"))||[],c={id:Date.now().toString(),name:r.name,description:r.description,image_url:r.image_url},p=[...a,c];localStorage.setItem("categories",JSON.stringify(p)),n(!0),l({name:"",description:"",image_url:""}),setTimeout(()=>{o("/admin/categories")},2e3)}catch(a){console.error("Error simulating category creation:",a),n(!0),l({name:"",description:"",image_url:""}),setTimeout(()=>{o("/admin/categories")},2e3)}finally{x(!1)}},d=(t,a)=>{l(c=>({...c,[t]:a}))};return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-[#121212]",children:[e.jsx("div",{className:"bg-white dark:bg-[#1E1E1E] border-b border-[#E9E9E9] dark:border-[#333333] px-6 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("a",{href:"/admin/categories",className:"flex items-center gap-2 text-[#7B7B7B] dark:text-[#A0A0A0] hover:text-[#ff00b3] transition-colors",children:[e.jsx(v,{className:"w-5 h-5"}),"Back to Categories"]}),e.jsx("div",{className:"w-px h-6 bg-[#E9E9E9] dark:bg-[#333333]"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center",children:e.jsx(A,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-black dark:text-white",style:{fontFamily:'Montserrat, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:"Add New Category"})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[b&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-2xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx(g,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200",children:"Category Created Successfully!"}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Redirecting to categories list..."})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-[#1E1E1E] border border-[#F1F1F4] dark:border-[#333333] rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-[#F1F1F4] dark:border-[#333333]",children:[e.jsx("h2",{className:"text-lg font-semibold text-black dark:text-white",style:{fontFamily:'Montserrat, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:"Category Information"}),e.jsx("p",{className:"text-sm text-[#7B7B7B] dark:text-[#A0A0A0] mt-1",children:"Create a new product category for your store"})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:t=>d("name",t.target.value),className:"w-full px-4 py-3 border border-[#E9E9E9] dark:border-[#333333] rounded-xl bg-white dark:bg-[#2A2A2A] text-black dark:text-white placeholder-[#7B7B7B] focus:outline-none focus:border-[#ff00b3] focus:ring-2 focus:ring-[#ff00b3]/20 transition-all duration-300",placeholder:"e.g., Dresses, Shoes, Accessories",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:t=>d("description",t.target.value),className:"w-full px-4 py-3 border border-[#E9E9E9] dark:border-[#333333] rounded-xl bg-white dark:bg-[#2A2A2A] text-black dark:text-white placeholder-[#7B7B7B] focus:outline-none focus:border-[#ff00b3] focus:ring-2 focus:ring-[#ff00b3]/20 transition-all duration-300",placeholder:"Brief description of this category...",rows:"4"}),e.jsx("p",{className:"text-xs text-[#7B7B7B] dark:text-[#A0A0A0] mt-1",children:"Optional: Describe what products belong in this category"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category Image URL"}),e.jsx("input",{type:"url",value:r.image_url,onChange:t=>d("image_url",t.target.value),className:"w-full px-4 py-3 border border-[#E9E9E9] dark:border-[#333333] rounded-xl bg-white dark:bg-[#2A2A2A] text-black dark:text-white placeholder-[#7B7B7B] focus:outline-none focus:border-[#ff00b3] focus:ring-2 focus:ring-[#ff00b3]/20 transition-all duration-300",placeholder:"https://example.com/category-image.jpg"}),e.jsx("p",{className:"text-xs text-[#7B7B7B] dark:text-[#A0A0A0] mt-1",children:"Optional: Add an image to represent this category"})]}),r.image_url&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image Preview"}),e.jsxs("div",{className:"w-full h-48 border border-[#E9E9E9] dark:border-[#333333] rounded-xl overflow-hidden bg-[#F8F8F8] dark:bg-[#2A2A2A]",children:[e.jsx("img",{src:r.image_url,alt:"Category preview",className:"w-full h-full object-cover",onError:t=>{t.target.style.display="none",t.target.nextSibling.style.display="flex"}}),e.jsx("div",{className:"w-full h-full hidden items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(B,{className:"w-12 h-12 text-[#7B7B7B] dark:text-[#A0A0A0] mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-[#7B7B7B] dark:text-[#A0A0A0]",children:"Invalid image URL"})]})})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-[#F1F1F4] dark:border-[#333333]",children:[e.jsxs("button",{type:"submit",disabled:m||!r.name.trim(),className:"bg-[#ff00b3] hover:bg-[#FFB6C1 ] text-black font-semibold px-6 py-3 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4"}),m?"Creating Category...":"Create Category"]}),e.jsx("a",{href:"/admin/categories",className:"bg-gray-100 hover:bg-gray-200 dark:bg-[#2A2A2A] dark:hover:bg-[#404040] text-gray-700 dark:text-gray-300 font-medium px-6 py-3 rounded-xl transition-all duration-300",children:"Cancel"})]})]})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-6",children:[e.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"ðŸ’¡ Category Tips"}),e.jsxs("ul",{className:"text-sm text-blue-600 dark:text-blue-300 space-y-1",children:[e.jsx("li",{children:"â€¢ Use clear, descriptive names that customers will understand"}),e.jsx("li",{children:"â€¢ Keep descriptions concise but informative"}),e.jsx("li",{children:"â€¢ High-quality images help customers navigate your store"}),e.jsx("li",{children:"â€¢ You can always edit category details later"})]})]})]})]})}const M=k(function(i){return e.jsx(N,{children:e.jsx(E,{...i})})});export{M as default};
