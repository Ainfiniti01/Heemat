import{r as i,j as c}from"./chunk-4WY6JWTD-Cksk4_a3.js";const m=()=>{const[l,o]=i.useState(!1),r=()=>{window.pageYOffset>300?o(!0):o(!1)},u=()=>{window.scrollTo({top:0,behavior:"smooth"})};return i.useEffect(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}),[]),c.jsx("button",{type:"button",onClick:u,className:`fixed bottom-8 right-8 z-50 p-3 rounded-full bg-gray-800 text-white shadow-lg hover:bg-gray-700 transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,"aria-label":"Go to top",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})})},d=i.createContext();function C({children:l}){const[o,r]=i.useState(()=>{if(typeof window<"u"){const t=localStorage.getItem("cartItems");return t?JSON.parse(t):[]}return[]});i.useEffect(()=>{typeof window<"u"&&localStorage.setItem("cartItems",JSON.stringify(o))},[o]);const u=(t,e=1)=>{r(n=>{const s=n.findIndex(a=>a.id===t.id);if(s>-1){const a=[...n];return a[s].quantity+=e,a}else return[...n,{...t,quantity:e}]})},f=t=>{r(e=>e.filter(n=>n.id!==t))},w=(t,e)=>{r(n=>n.map(s=>s.id===t?{...s,quantity:e}:s))},p=()=>{r([])},g=()=>o.reduce((t,e)=>t+e.numericPrice*e.quantity,0);return c.jsx(d.Provider,{value:{cartItems:o,addToCart:u,removeFromCart:f,updateQuantity:w,clearCart:p,getTotalPrice:g},children:l})}function y(){return i.useContext(d)}export{C,m as S,y as u};
