import{r as a,j as e,w as N}from"./jsx-runtime-BnyUm0hy.js";import{R as w}from"./layout-BYEO0U_X.js";import{A}from"./arrow-left-BeF929zU.js";import{P as d}from"./package-D4dPGRsk.js";import{P as k}from"./plus-BizC9sCZ.js";import{S as v}from"./search-hvCIcub8.js";import{c as B}from"./createLucideIcon-B74CgAzu.js";import{S as E}from"./square-pen-D9f_Ngim.js";import{T as F}from"./trash-2-DtMy37yD.js";import"./CartContext-CJHeVFYT.js";/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function C(){const[o,l]=a.useState([]),[c,h]=a.useState([]),[f,u]=a.useState(!0),[i,p]=a.useState(""),[n,g]=a.useState(""),[P,_]=a.useState(!0);a.useEffect(()=>{b(),j()},[]);const b=async()=>{try{const s=await fetch("/api/admin/products/list",{method:"GET",headers:{"Content-Type":"application/json"}});if(s.ok){const t=await s.json();l(t)}}catch(s){console.error("Error fetching products:",s)}finally{u(!1)}},j=async()=>{try{const s=await fetch("/api/admin/categories/list",{method:"GET",headers:{"Content-Type":"application/json"}});if(s.ok){const t=await s.json();h(t)}}catch(s){console.error("Error fetching categories:",s)}},y=async s=>{if(confirm("Are you sure you want to delete this product?"))try{(await fetch("/api/admin/products/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})})).ok?l(o.filter(r=>r.id!==s)):alert("Failed to delete product")}catch(t){console.error("Error deleting product:",t),alert("Error deleting product")}},x=o.filter(s=>{var m;const t=s.name.toLowerCase().includes(i.toLowerCase())||((m=s.description)==null?void 0:m.toLowerCase().includes(i.toLowerCase())),r=!n||s.category_id===parseInt(n);return t&&r});return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-[#121212]",children:[e.jsx("div",{className:"bg-white dark:bg-[#1E1E1E] border-b border-[#E9E9E9] dark:border-[#333333] px-6 py-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("a",{href:"/admin",className:"flex items-center gap-2 text-[#7B7B7B] dark:text-[#A0A0A0] hover:text-[#ff00b3] transition-colors",children:[e.jsx(A,{className:"w-5 h-5"}),"Back to Dashboard"]}),e.jsx("div",{className:"w-px h-6 bg-[#E9E9E9] dark:bg-[#333333]"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(d,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-black dark:text-white",style:{fontFamily:'Montserrat, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:"Products Management"})]})]}),e.jsxs("a",{href:"/admin/products/add",className:"bg-[#ff00b3] hover:bg-[#FFB6C1 ] text-black font-semibold px-4 py-2 rounded-lg text-sm transition-all duration-300 flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Add Product"]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#7B7B7B] dark:text-[#A0A0A0] w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:i,onChange:s=>p(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#E9E9E9] dark:border-[#333333] rounded-xl bg-white dark:bg-[#2A2A2A] text-black dark:text-white placeholder-[#7B7B7B] focus:outline-none focus:border-[#ff00b3] focus:ring-2 focus:ring-[#ff00b3]/20"})]}),e.jsxs("select",{value:n,onChange:s=>g(s.target.value),className:"px-4 py-3 border border-[#E9E9E9] dark:border-[#333333] rounded-xl bg-white dark:bg-[#2A2A2A] text-black dark:text-white focus:outline-none focus:border-[#ff00b3] focus:ring-2 focus:ring-[#ff00b3]/20",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"New",children:"New"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"Featured",children:"Featured"}),e.jsx("option",{value:"Braided Wigs",children:"Braided Wigs"}),e.jsx("option",{value:"Human Hair Wigs",children:"Human Hair Wigs"}),e.jsx("option",{value:"Frontals & Closures",children:"Frontals & Closures"}),e.jsx("option",{value:"Hair Care & Accessories",children:"Hair Care & Accessories"}),c.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),f?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-[#7B7B7B] dark:text-[#A0A0A0]",children:"Loading products..."})}):x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(d,{className:"w-16 h-16 text-[#7B7B7B] dark:text-[#A0A0A0] mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-black dark:text-white mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-[#7B7B7B] dark:text-[#A0A0A0] mb-6",children:i||n?"Try adjusting your filters":"Get started by adding your first product"}),e.jsx("a",{href:"/admin/products/add",className:"bg-[#ff00b3] hover:bg-[#FFB6C1 ] text-black font-semibold px-6 py-3 rounded-xl transition-all duration-300",children:"Add First Product"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(s=>{var t;return e.jsxs("div",{className:"bg-white dark:bg-[#1E1E1E] border border-[#F1F1F4] dark:border-[#333333] rounded-2xl overflow-hidden hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"aspect-square bg-[#F8F8F8] dark:bg-[#2A2A2A] relative overflow-hidden",children:[s.image_urls&&s.image_urls.length>0?e.jsx("img",{src:s.image_urls[0],alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(d,{className:"w-12 h-12 text-[#7B7B7B] dark:text-[#A0A0A0]"})}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-1",children:[s.is_new&&e.jsx("span",{className:"bg-green-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:"New"}),s.is_featured&&e.jsx("span",{className:"bg-[#ff00b3] text-black text-xs font-semibold px-2 py-1 rounded-full",children:"Featured"}),s.is_on_sale&&e.jsx("span",{className:"bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:"Sale"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsx("h3",{className:"font-semibold text-black dark:text-white line-clamp-1",style:{fontFamily:'Montserrat, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:s.name})}),e.jsx("p",{className:"text-sm text-[#7B7B7B] dark:text-[#A0A0A0] mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-[#ff00b3]"}),e.jsx("span",{className:"font-bold text-[#ff00b3]",children:s.is_on_sale&&s.sale_price?e.jsxs(e.Fragment,{children:["$",s.sale_price,e.jsxs("span",{className:"text-[#7B7B7B] dark:text-[#A0A0A0] line-through ml-2",children:["$",s.price]})]}):`$${s.price}`})]}),e.jsxs("span",{className:"text-sm text-[#7B7B7B] dark:text-[#A0A0A0]",children:["Stock: ",s.stock_quantity]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"text-xs bg-[#F8F8F8] dark:bg-[#2A2A2A] text-[#7B7B7B] dark:text-[#A0A0A0] px-2 py-1 rounded-full",children:((t=c.find(r=>r.id===s.category_id))==null?void 0:t.name)||"Uncategorized"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("a",{href:`/admin/products/edit/${s.id}`,className:"flex-1 bg-[#ff00b3] hover:bg-[#FFB6C1 ] text-black font-semibold px-4 py-2 rounded-lg text-sm transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Edit"]}),e.jsx("button",{onClick:()=>y(s.id),className:"bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-2 rounded-lg text-sm transition-all duration-300 flex items-center justify-center",children:e.jsx(F,{className:"w-4 h-4"})})]})]})]},s.id)})})]})]})}const R=N(function(l){return e.jsx(w,{children:e.jsx(C,{...l})})});export{R as default};
